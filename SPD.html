<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SPD Guest: Cruger</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(to right, #4b0000, #800020);
    color: #fff;
    min-height: 100vh;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    overflow-x: hidden;
    position: relative;
  }

  /* Background animation container */
  #particleContainer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 0;
  }

  .particle {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: rgba(255,255,255,0.8);
    opacity: 0.7;
    animation: float 8s linear infinite;
  }

  @keyframes float {
    0% { transform: translateY(100vh) translateX(0) scale(1); opacity:0.7; }
    50% { opacity: 1; }
    100% { transform: translateY(-10vh) translateX(50px) scale(1.3); opacity:0; }
  }

  .intro-text {
    max-width: 800px;
    font-size: 1.3rem;
    line-height: 1.6;
    margin-bottom: 20px;
  }

  .guest-photo {
    width: 400px;
    margin-bottom: 20px;
    opacity: 0;
  }

  @keyframes fadeIn {
    0% { opacity: 0; transform: translateY(-20px); }
    100% { opacity: 1; transform: translateY(0); }
  }

  @keyframes fadeOut {
    0% { opacity: 1; }
    100% { opacity: 0; }
  }

  .dialog-box {
    max-width: 800px;
    width: 90%;
    min-height: 140px;
    background: rgba(0,0,0,0.4);
    padding: 20px 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    font-size: 1.3rem;
    line-height: 1.6;
    margin-bottom: 20px;
    text-align: left;
    display: none;
    z-index: 1;
    position: relative;
  }

  .speaker-label {
    font-weight: bold;
    margin-bottom: 8px;
    font-size: 1.2rem;
    display: block;
  }

  .cruger-label { color: #a0c4ff; }

  #dialogNextBtn, #nextBtn, #muteBtn {
    margin-top: 20px;
    padding: 15px 40px;
    font-size: 1.2rem;
    border-radius: 50px;
    border: none;
    background: #b3003b;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(255,0,80,0.5);
    transition: all 0.3s ease;
    z-index: 1;
    position: relative;
  }

  #dialogNextBtn:hover, #nextBtn:hover, #muteBtn:hover {
    background: #ff004d;
    box-shadow: 0 0 25px rgba(255,0,80,0.7);
    transform: scale(1.05);
  }

  #nextBtn, #muteBtn {
    display: none;
  }

  /* Mute button fixed at top-right */
#muteBtn {
  position: fixed;
  top: 15px;
  right: 15px;
  z-index: 10;
  background: none;   /* no background */
  border: none;       /* no border */
  cursor: pointer;
  color: #fff;
  font-size: 28px;    /* adjust icon size */
  padding: 0;         /* remove extra padding */
  line-height: 1;
}

</style>
</head>
<body>

<!-- Background particle container -->
<div id="particleContainer"></div>

<div class="intro-text" id="introText"></div>

<img id="crugerImg" src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/84f6d3c7-19b3-471c-99b3-ebe943ca814d/djs5ocz-3aa57f2f-8eab-429d-8089-01d979ab32cd.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiIvZi84NGY2ZDNjNy0xOWIzLTQ3MWMtOTliMy1lYmU5NDNjYTgxNGQvZGpzNW9jei0zYWE1N2YyZi04ZWFiLTQyOWQtODA4OS0wMWQ5NzlhYjMyY2QucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.w04H3TOliPgIbz_MaH-CA5zNBMuQzxfdvBfSUzKNqi4" alt="Cruger" class="guest-photo">

<div class="dialog-box" id="dialogBox">
  <span class="speaker-label cruger-label">Cruger:</span>
  <span id="dialogText"></span>
</div>

<button id="dialogNextBtn" onclick="nextDialogueStep()">Next âž¡</button>
<button id="nextBtn" onclick="goNextPage()">Join the SPD Adventure âž¡</button>
<button id="muteBtn" onclick="toggleMute()">ðŸ”Š</button>

<!-- Background music -->
<audio id="bgMusic" loop>
  <source src="SPD.mp3" type="audio/mpeg">
</audio>

<script>
const introTextContent = "I hope Doraemon was fun for you. Nobita wanted him to stay with him so I had Doraemon lend him some toy.\nAnyway, now let's meet the next guest â€” who probably got us all thinking how his dog head fits in that damn helmet!";

const dialogues = [
  "Yk, Yash, you could have been a little nicer â€” I am risking my whole team on a dangerous mission to meet your girlfriend!",
  "Hey Umra, this is Anubis Cruger. Thatâ€™s right â€” I handle the Power Rangers SPD.",
  "You wonâ€™t believe what your boyfriend didâ€¦ he acted as an alien and harassed people on the street just so he could meet my team and request to meet you for your birthday!",
  "Firstly, happy birthday Umra! You are 27 now and radiant as ever. You even smell good â€” I am a dog, so I have those senses!",
  "Anyway, on this birthday, I wish you nothing but the best. Hope all your wishes come true!",
  "If one of your wishes is to be a part of my team, you are more than welcome! You would be happier here than Gopi of course. We can even arrange to have your suit colored as your favorite color which Yash says is wine.",
  "I am off to another dangerous mission now. I also arranged one of your favourite rangers to meet you here, hope you have fun...."
];

let idx = 0;
const introText = document.getElementById('introText');
const crugerImg = document.getElementById('crugerImg');
const dialogBox = document.getElementById('dialogBox');
const dialogText = document.getElementById('dialogText');
const dialogNextBtn = document.getElementById('dialogNextBtn');
const nextBtn = document.getElementById('nextBtn');
const muteBtn = document.getElementById('muteBtn');
const bgMusic = document.getElementById('bgMusic');
const particleContainer = document.getElementById('particleContainer');

crugerImg.style.opacity = 0;
dialogBox.style.display = 'none';

// Typewriter effect
function typeWriter(text, element, callback=null, speed=28) {
  element.innerHTML = '';
  let i = 0;
  function typing() {
    if(i < text.length){
      element.innerHTML += text.charAt(i);
      i++;
      setTimeout(typing, speed);
    } else if(callback) callback();
  }
  typing();
}

// Show intro first
typeWriter(introTextContent, introText);

// Next dialogue step
function nextDialogueStep(){
  if(idx === 0){
    // Fade out intro
    introText.style.animation = 'fadeOut 0.5s forwards';
    setTimeout(()=>{
      introText.style.display = 'none';
      dialogBox.style.display = 'block';
      crugerImg.style.animation = 'fadeIn 0.8s ease forwards';
      crugerImg.style.opacity = 1;

      // Show mute button and play music
      muteBtn.style.display = 'flex';
      bgMusic.play().catch(()=>{});

      typeWriter(dialogues[idx], dialogText);
      idx++;
    },500);
  } else if(idx < dialogues.length){
    typeWriter(dialogues[idx], dialogText);
    idx++;
  }

  if(idx >= dialogues.length){
    dialogNextBtn.style.display = 'none';
    nextBtn.style.display = 'inline-block';
  }
}

function goNextPage(){
  window.location.href = 'blueranger.html';
}

// Music toggle
function toggleMute(){
  bgMusic.muted = !bgMusic.muted;
  muteBtn.textContent = bgMusic.muted ? 'ðŸ”‡' : 'ðŸ”Š';
}


// Background particle animation
function createParticle(){
  const p = document.createElement('div');
  p.className = 'particle';
  p.style.left = Math.random() * 100 + 'vw';
  p.style.width = (4 + Math.random()*6)+'px';
  p.style.height = p.style.width;
  p.style.background = `rgba(255,255,255,${0.5 + Math.random()*0.5})`;
  p.style.animationDuration = (5 + Math.random()*5)+'s';
  particleContainer.appendChild(p);
  setTimeout(()=>p.remove(), 10000);
}
setInterval(createParticle, 200);
</script>

</body>
</html>