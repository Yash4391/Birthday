<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SPD Guest: Red Ranger</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(to right, #4b0000, #800020); /* wine background */
    color: #fff;
    min-height: 100vh;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    overflow-x: hidden;
    position: relative;
  }

  /* Background animation container */
  #particleContainer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
    z-index: 0;
  }

  .particle {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: rgba(255,255,255,0.8);
    opacity: 0.7;
    animation: float 8s linear infinite;
  }

  @keyframes float {
    0% { transform: translateY(100vh) translateX(0) scale(1); opacity:0.7; }
    50% { opacity: 1; }
    100% { transform: translateY(-10vh) translateX(50px) scale(1.3); opacity:0; }
  }

  .intro-text {
    max-width: 800px;
    font-size: 1.3rem;
    line-height: 1.6;
    margin-bottom: 20px;
  }

  .guest-photo {
    width: 400px;
    margin-bottom: 20px;
    opacity: 0;
    transition: opacity 0.8s ease;
    z-index: 1;
    position: relative;
  }

  .dialog-box {
    max-width: 800px;
    width: 90%;
    min-height: 140px;
    background: rgba(0,0,0,0.4);
    padding: 20px 30px;
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.4);
    font-size: 1.3rem;
    line-height: 1.6;
    margin-bottom: 20px;
    text-align: left;
    display: none;
    z-index: 1;
    position: relative;
  }

  .speaker-label {
    font-weight: bold;
    margin-bottom: 8px;
    font-size: 1.2rem;
    display: block;
  }

  .red-label { color: #ff3b3b; } /* bright red */

  #dialogNextBtn, #nextBtn, #muteBtn {
    margin-top: 20px;
    padding: 15px 40px;
    font-size: 1.2rem;
    border-radius: 50px;
    border: none;
    background: #b3003b;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 0 15px rgba(255,0,80,0.5);
    transition: all 0.3s ease;
    z-index: 1;
    position: relative;
  }

  #dialogNextBtn:hover, #nextBtn:hover {
    background: #ff004d;
    box-shadow: 0 0 25px rgba(255,0,80,0.7);
    transform: scale(1.05);
  }

  #nextBtn {
    display: none;
  }

  /* Minimal mute button, just the icon */
  #muteBtn {
    position: fixed;
    top: 15px;
    right: 15px;
    z-index: 10;
    background: none;
    border: none;
    cursor: pointer;
    color: #fff;
    font-size: 28px;
    padding: 0;
    line-height: 1;
    display: none; /* show after intro */
  }

</style>
</head>
<body>

<!-- Background particle container -->
<div id="particleContainer"></div>

<div class="intro-text" id="introText"></div>

<img id="rangerImg" src="https://i.postimg.cc/8PcxmzL7/Sky-Tate-Red-removebg-preview.png" alt="Red Ranger" class="guest-photo">

<div class="dialog-box" id="dialogBox">
  <span class="speaker-label red-label">Red Ranger:</span>
  <span id="dialogText"></span>
</div>

<button id="dialogNextBtn" onclick="nextDialogueStep()">Next ‚û°</button>
<button id="nextBtn" onclick="goNextPage()">Next</button>
<button id="muteBtn" onclick="toggleMute()">üîä</button>

<!-- Background music -->
<audio id="bgMusic" loop>
  <source src="SPD.mp3" type="audio/mpeg">
</audio>

<script>
const introTextContent = "Hope you enjoyed meeting Cruger! Now, here‚Äôs someone even cooler ‚Äî your favorite, who‚Äôs just been promoted from Blue to Red Ranger!";

const dialogues = [
  "Hey Umra! Red Ranger here with a special message‚Ä¶ Yash couldn‚Äôt stop talking about how awesome you are! Get ready for some birthday fun, straight from the SPD HQ",
  "I‚Äôve heard all about you from Yash‚Äîhe says you‚Äôre amazing, and Bareilly isn‚Äôt quite ready for your charm yet. üòâ",
  "When I first met Yash, he kept asking me if we‚Äôd ever fought Godzilla‚Ä¶ I still don‚Äôt know what that‚Äôs about, but it sounds like your kind of inside joke. üòÇ",
  "Yash also told me you both love reading together‚Ä¶ apparently you make every book brighter. Honestly, I‚Äôm a little jealous of all those pages!",
  "Yash says he only needed me here for a short while, but apparently I‚Äôm your favourite‚Ä¶ and he seems a little jealous. üòè",
  "He kept saying you‚Äôre incredibly smart, really pretty and just amazing. Honestly, being a Red Ranger now, I could use someone like you on my team. Gopi doesn‚Äôt appreciate you enough ‚Äî but I will!",
  "Even though Yash is in Mumbai and you‚Äôre in Bareilly, he thinks about you all the time. Distance doesn‚Äôt stand a chance when hearts are this close!",
  "I‚Äôve got to dash back to the Ranger team‚Äîaliens won‚Äôt fight themselves! But remember, you‚Äôre the one who keeps Godzilla in check and makes every story an adventure. Yash is lucky to have you!"
];

let idx = 0;
const introText = document.getElementById('introText');
const rangerImg = document.getElementById('rangerImg');
const dialogBox = document.getElementById('dialogBox');
const dialogText = document.getElementById('dialogText');
const dialogNextBtn = document.getElementById('dialogNextBtn');
const nextBtn = document.getElementById('nextBtn');
const muteBtn = document.getElementById('muteBtn');
const bgMusic = document.getElementById('bgMusic');
const particleContainer = document.getElementById('particleContainer');

rangerImg.style.opacity = 0;
dialogBox.style.display = 'none';

// Typewriter effect
function typeWriter(text, element, callback=null, speed=28) {
  element.innerHTML = '';
  text = text.replace(/\n/g,'<br>');
  let i = 0;
  function typing() {
    if(i < text.length){
      element.innerHTML += text.charAt(i);
      i++;
      setTimeout(typing, speed);
    } else if(callback) {
      callback();
    }
  }
  typing();
}

// Show intro first
typeWriter(introTextContent, introText);

// Next dialogue step
function nextDialogueStep(){
  if(idx === 0){
    // Fade out intro text
    introText.style.transition = 'opacity 0.5s';
    introText.style.opacity = 0;
    setTimeout(()=>{
      introText.style.display = 'none';
      dialogBox.style.display = 'block';
      rangerImg.style.opacity = 1;

      // Show mute button and play music
      muteBtn.style.display = 'inline';
      bgMusic.play().catch(()=>{});

      typeWriter(dialogues[idx], dialogText);
      idx++;
    },500);
  } else if(idx < dialogues.length){
    typeWriter(dialogues[idx], dialogText);
    idx++;
  }

  if(idx >= dialogues.length){
    dialogNextBtn.style.display = 'none';
    nextBtn.style.display = 'inline-block';
  }
}

function goNextPage(){
  window.location.href = 'message.html'; // Replace with your next page URL
}

// Music toggle
function toggleMute(){
  bgMusic.muted = !bgMusic.muted;
  muteBtn.textContent = bgMusic.muted ? 'üîá' : 'üîä';
}

// Background particle animation
function createParticle(){
  const p = document.createElement('div');
  p.className = 'particle';
  p.style.left = Math.random() * 100 + 'vw';
  p.style.width = (4 + Math.random()*6)+'px';
  p.style.height = p.style.width;
  p.style.background = `rgba(255,255,255,${0.5 + Math.random()*0.5})`;
  p.style.animationDuration = (5 + Math.random()*5)+'s';
  particleContainer.appendChild(p);
  setTimeout(()=>p.remove(), 10000);
}
setInterval(createParticle, 200);
</script>

</body>
</html>